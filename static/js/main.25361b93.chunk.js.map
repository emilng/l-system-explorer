{"version":3,"sources":["ui/Examples.jsx","ui/Slider.jsx","ui/Start.jsx","ui/Iterations.jsx","ui/Axiom.jsx","ui/Angle.jsx","ui/Branch.jsx","ui/Distance.jsx","ui/Pen.jsx","ui/Instructions.jsx","ui/InstructionsContainer.jsx","ui/Rule.jsx","ui/RulesContainer.jsx","ui/Canvas.js","encoders/axiom.js","encoders/util.js","encoders/start.js","encoders/rules.js","encoders/instructions.js","encoders/hash.js","encoders/iterations.js","rewrite.js","render.js","App.js","index.js"],"names":["Examples","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","renderExample","bind","assertThisInitialized","state","data","name","hash","window","history","replaceState","concat","update","index","_ref","react_default","a","createElement","key","className","href","onClick","updateHash","id","map","Component","Slider","step","bigStep","smallStep","regularStep","handleChange","keyDown","e","Number","target","value","shiftKey","setState","altKey","_this$props","min","max","label","showLabel","sliderProps","type","onChange","onKeyDown","Start","changeHandlers","forEach","prop","objectSpread","defineProperty","_this2","_this$props$data","x","y","angle","zoom","item","_item","slicedToArray","ui_Slider","assign","nextProps","nextState","sliders","Iterations","currentTarget","Axiom","Angle","model","_this$props2","enabled","toggle","slider","getSlider","checked","htmlFor","Branch","sharedProps","radioButtons","getRadioButtons","Distance","Pen","Instructions","toggleDistance","toggleProperty","toggleAngle","toggleBranch","togglePen","updateRule","updateDistance","updateAngle","updateBranchType","updatePen","distance","hasOwnProperty","branch","pen","propName","rest","objectWithoutProperties","_toPropertyKey","rule","_this$props3","_this$props4","_this$props5","_this$props6","instruction","distanceEnabled","angleEnabled","branchEnabled","penEnabled","ui_Distance","ui_Angle","ui_Branch","ui_Pen","remove","InstructionsContainer","addInstruction","newData","splice","instructionProps","removeInstruction","updateInstruction","ui_Instructions","renderInstruction","Rule","updateTransform","transform","_this$props$rule","RulesContainer","addRule","handleChangeRule","ruleProps","removeRule","ui_Rule","rules","Canvas","canvas","callback","mousedown","setData","updateData","addEventListener","startx","clientX","starty","clientY","datax","datay","requestAnimationFrame","axiom","decode","axiomString","unescape","encode","axiomObj","escape","getParamEncoder","keyLookup","encodedKeyLookup","invert","result","encodedParam","encodedKey","slice","numberValue","parseFloat","objectEncoder","delimiter","paramEncoder","encodedObject","split","reduce","decodedObject","join","getObjectEncoder","z","i","start","rulesString","ruleString","splitRule","rulesObj","ruleObj","undefined","length","d","b","p","decodeInstruction","paramString","params","decodedRule","shift","encodeInstruction","encodedRule","instructionParams","omit","encodedInstruction","unshift","hashSections","encoder","instructionString","instructions","iterationsString","parseInt","iterationsObj","toString","single","ruleLookup","input","output","len","char","write","maxIterations","multiple","lookup","getRuleLookup","RADIANS","Math","PI","render","ctx","getContext","strokeStyle","lineWidth","clearRect","width","height","stack","forward","moveTo","beginPath","instructionLookup","lookupObj","isPenDown","cos","sin","lineTo","push","settings","pop","stroke","closePath","App","document","getElementById","decodeData","iterations","rewrittenRules","canvasUI","CanvasUI","updateStartData","updateStart","updateStep","RENDER","updateIterationData","updateAxiom","REWRITE","updateRules","updateInstructions","updateExample","DECODE","rewriteData","renderData","updateMethods","location","substr","sections","encodedSections","section","encodedSection","decodeWith","encodeHash","rewrite","urlHash","encodeWith","stateObj","updatedStartData","propValue","currentStep","newState","startProps","iterationsProps","axiomProps","rulesProps","instructionsProps","exampleProps","ui_Start","ui_Iterations","ui_Axiom","ui_RulesContainer","ui_InstructionsContainer","ui_Examples","ReactDOM","src_App_0"],"mappings":"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","file":"static/js/main.25361b93.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Examples extends Component {\n  constructor(props) {\n    super(props);\n    this.renderExample = this.renderExample.bind(this);\n    this.state = {\n      data: [\n        {\n          name: 'Default',\n          hash: 'F/F:F+F-F-F+F/F,d3.5;+,a75;-,a-80/6/x347,y358,a70,i6,z100',\n        },\n        {\n          name: 'Koch Curve',\n          hash: 'F/F:F+F-F-F+F/F,d3.3;+,a60;-,a-60/4/x853,y276,a180,i4,z100',\n        },\n        {\n          name: 'Sierpinksi Triangle',\n          hash: 'F-G-F/F:F-G+F+G-F,G:GG/F,d8;G,d8;+,a120;-,a-120/6/x41,y465,a0,i6,z100',\n        },\n        {\n          name: 'Dragon Curve',\n          hash: 'FX/X:X+YF+,Y:-FX-Y/F,d8;+,a90;-,a-90/11/x253,y391,a-194,i11,z100',\n        },\n        {\n          name: 'Fractal Plant',\n          hash: 'X/X:F-[[X]+X]+F[+FX]-X,F:FF/F,d4;+,a25;-,a-25;[,b0;],b1/6/x135,y638,a-76,i6,z100',\n        },\n        {\n          name: 'Fractal Plant 2',\n          hash: 'XL/X:F-[[U]+X]P+F[+FXL]-X,F:FF,L:X-UXPL/F,d-2.3;+,a25;-,a-17.5;[,b0;],b1;U,d-1.9,b0,a-1.5;P,b1,d-0.1;L,d-5,a38.5/6/x442,y520,a95,i6,z100',\n        },\n        {\n          name: 'City',\n          hash: 'X/X:F-%5B%5BX%5D+GX%5D+G%5B+FX%5D-X,F:FF,G:FG/F,d-0.7;+,a108.4;-,a234;%5B,b0;%5D,b1;G,d-1.1,p0/6/x246,y125,a-108,i6,z408',\n        },\n      ],\n    }\n  }\n\n  updateHash(hash) {\n    window.history.replaceState({ data: hash }, 'L-Systems', `index.html#${hash}`);\n    this.props.update();\n  }\n\n  renderExample({ hash, name }, index) {\n    return (\n      <li key={index}>\n        <a\n          className=\"example\"\n          href={`#${hash}`}\n          onClick={this.updateHash.bind(this, hash)}\n        >{name}</a>\n      </li>\n    );\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    return (\n      <div id=\"examples\" className=\"side-section\">\n        <h4>Examples</h4>\n        <ul>\n          {this.state.data.map(this.renderExample)}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default Examples;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Slider extends Component {\n  constructor(props) {\n    super(props);\n    const step = props.step;\n    const bigStep = step * 10;\n    let smallStep = step * 0.1;\n    // floating point error workaround\n    if ((step >= 0.1) && (step <= 0.9)) {\n      smallStep = (step * 10) * 0.01;\n    }\n    this.state = {\n      step,\n      smallStep,\n      bigStep,\n      regularStep: step,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.keyDown = this.keyDown.bind(this);\n  }\n\n  handleChange(e) {\n    this.props.update(Number(e.target.value));\n  }\n\n  keyDown(e) {\n    if (e.shiftKey) {\n      this.setState({ step: this.state.bigStep });\n    } else if (e.altKey) {\n      this.setState({ step: this.state.smallStep });\n    } else {\n      this.setState({ step: this.state.regularStep });\n    }\n  }\n\n  render() {\n    const { name, value, min, max, showLabel } = this.props;\n    const label = (showLabel) ? (<label className=\"slider-label\">{name}</label>) : null;\n    const sliderProps = {\n      name, value, min, max,\n      type: 'range',\n      step: this.state.step,\n      onChange: this.handleChange,\n      onKeyDown: this.keyDown,\n    };\n    return (\n      <div className=\"flex-row\">\n        {label}\n        <input {...sliderProps} />\n        <label className=\"slider-value\">{value}</label>\n      </div>\n    );\n  }\n}\n\nSlider.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.number.isRequired,\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  showLabel: PropTypes.bool.isRequired,\n  step: PropTypes.number.isRequired,\n};\n\nexport default Slider;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from './Slider';\n\nclass Start extends Component {\n  constructor(props) {\n    super(props);\n    this.changeHandlers = {};\n    ['x','y','angle','zoom'].forEach(prop => {\n      this.changeHandlers[prop] = this.handleChange.bind(this, prop);\n    });\n  }\n\n  handleChange(prop, value) {\n    this.props.update({\n      ...this.props.data,\n      [prop]: Number(value),\n    });\n  }\n\n  sliders() {\n    const { x, y, angle, zoom } = this.props.data;\n    const sliderData = [\n      ['x', x, 0, 1000, 1],\n      ['y', y, 0, 700, 1],\n      ['angle', angle, -360, 360, 1],\n      ['zoom', zoom, -1000, 1000, 1],\n    ];\n    return sliderData.map((item, id) => {\n      const [name, value, min, max, step] = item;\n      const sliderProps = {\n        name, value, min, max, step,\n        className: 'grow-item',\n        key: id,\n        update: this.changeHandlers[name],\n      };\n      return (\n        <Slider\n          {...sliderProps}\n          showLabel\n        />\n      );\n    }, this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.data !== this.props.data;\n  }\n\n  render() {\n    return (\n      <div id=\"start\" className=\"side-section\">\n        <div className=\"flex-column justified-container\">\n          <h4>Initial State</h4>\n          {this.sliders()}\n        </div>\n      </div>\n    )\n  }\n}\n\nStart.propTypes = {\n  data: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    angle: PropTypes.number.isRequired,\n    zoom: PropTypes.number.isRequired,\n  }),\n  update: PropTypes.func.isRequired,\n};\n\nexport default Start;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Iterations extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.props.update(Number(e.currentTarget.value));\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.data !== this.props.data;\n  }\n\n  render() {\n    return (\n      <div className=\"side-section\">\n        <h4>Iterations</h4>\n        <div className=\"flex-row justified-container\">\n          <input\n            className=\"number-input grow-item\"\n            type=\"number\"\n            min=\"1\"\n            value={this.props.data}\n            onChange={this.handleChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nIterations.propTypes = {\n  data: PropTypes.number,\n  update: PropTypes.func.isRequired,\n};\n\nexport default Iterations;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Axiom extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.props.update(e.currentTarget.value);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.data !== this.props.data;\n  }\n\n  render() {\n    return (\n      <div className=\"side-section\">\n        <h4>Axiom</h4>\n        <div className=\"flex-row justified-container\">\n          <input\n            className=\"grow-item\"\n            value={this.props.data}\n            onChange={this.handleChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nAxiom.propTypes = {\n  data: PropTypes.string,\n  update: PropTypes.func.isRequired,\n};\n\nexport default Axiom;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from './Slider';\n\nclass Angle extends Component {\n  getSlider() {\n    const { model, value, update } = this.props;\n    const sliderProps = {\n      model, value, update,\n      name: 'angle',\n      min: -360, max: 360, step: 0.1,\n      showLabel: false,\n    };\n    return <Slider {...sliderProps} />;\n  }\n\n  render() {\n    const { enabled, id, toggle } = this.props;\n    const slider = (enabled) ? this.getSlider() : null;\n    return (\n      <div className=\"flex-row instruction-parameter-container\">\n        <input\n          id={'angle-check-' + id}\n          className=\"angle-checkbox\"\n          type=\"checkbox\"\n          value=\"angle\"\n          checked={enabled}\n          onChange={toggle}\n        />\n        <label\n          className=\"check-label angle-check-label\"\n          htmlFor={'angle-check-' + id}\n        >angle</label>\n        {slider}\n      </div>\n    );\n  }\n}\n\nAngle.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n  model: PropTypes.object.isRequired,\n  update: PropTypes.func.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nexport default Angle;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Branch extends Component {\n  getRadioButtons() {\n    const sharedProps = {\n      className: 'branchPush-input',\n      type: 'radio',\n      onChange: this.props.update,\n    };\n    return (\n      <div>\n        <label>start</label>\n        <input\n          {...sharedProps}\n          id=\"0\"\n          checked={this.props.value === 0}\n        />\n        <label>end</label>\n        <input\n          {...sharedProps}\n          id=\"1\"\n          checked={this.props.value === 1}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { enabled, id, toggle } = this.props;\n    const radioButtons = (enabled) ? this.getRadioButtons() : null;\n    return (\n      <div className=\"flex-row instruction-parameter-container\">\n        <input\n          id={'branch-check-' + id}\n          className=\"branch-checkbox\"\n          type=\"checkbox\"\n          value=\"branch\"\n          checked={enabled}\n          onChange={toggle}\n        />\n        <label className=\"check-label branch-check-label\" htmlFor={'branch-check-' + this.props.id}>branch</label>\n        {radioButtons}\n      </div>\n    );\n  }\n}\n\nBranch.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n  update: PropTypes.func.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nexport default Branch;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from './Slider';\n\nclass Distance extends Component {\n  getSlider() {\n    const { model, value, update } = this.props;\n    const sliderProps = {\n      model, value, update,\n      name: 'distance',\n      min: -20, max: 20, step: 0.1,\n      showLabel: false,\n    };\n    return <Slider {...sliderProps} />;\n  }\n\n  render() {\n    const { enabled, id, toggle } = this.props;\n    const slider = (enabled) ? this.getSlider() : null;\n    return (\n      <div className=\"flex-row instruction-parameter-container\">\n        <input\n          id={'distance-check-' + id}\n          className=\"distance-checkbox\"\n          type=\"checkbox\"\n          value=\"distance\"\n          checked={enabled}\n          onChange={toggle}\n        />\n        <label\n          className=\"check-label distance-check-label\"\n          htmlFor={'distance-check-' + id}\n        >distance</label>\n        {slider}\n      </div>\n    );\n  }\n}\n\nDistance.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n  model: PropTypes.object.isRequired,\n  update: PropTypes.func.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nexport default Distance;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Pen extends Component {\n  getRadioButtons() {\n    const sharedProps = {\n      className: 'branchPush-input',\n      type: 'radio',\n      onChange: this.props.update,\n    };\n    return (\n      <div>\n        <label>up</label>\n        <input\n          {...sharedProps}\n          id=\"0\"\n          checked={this.props.value === 0}\n        />\n        <label>down</label>\n        <input\n          {...sharedProps}\n          id=\"1\"\n          checked={this.props.value === 1}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { enabled, id, toggle } = this.props;\n    const radioButtons = (enabled) ? this.getRadioButtons() : null;\n    return (\n      <div className=\"flex-row instruction-parameter-container\">\n        <input\n          id={'pen-check-' + id}\n          className=\"branch-checkbox\"\n          type=\"checkbox\"\n          value=\"pen\"\n          checked={enabled}\n          onChange={toggle}\n        />\n        <label className=\"check-label branch-check-label\" htmlFor={'pen-check-' + this.props.id}>pen</label>\n        {radioButtons}\n      </div>\n    );\n  }\n}\n\nPen.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n  update: PropTypes.func.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nexport default Pen;","import React, { Component } from 'react';\nimport Angle from './Angle';\nimport Branch from './Branch';\nimport Distance from './Distance';\nimport Pen from './Pen';\n\nclass Instructions extends Component {\n  constructor(props) {\n    super(props);\n    this.toggleDistance = this.toggleProperty.bind(this, 'distance');\n    this.toggleAngle = this.toggleProperty.bind(this, 'angle');\n    this.toggleBranch = this.toggleProperty.bind(this, 'branch');\n    this.togglePen = this.toggleProperty.bind(this, 'pen');\n    this.updateRule = this.updateRule.bind(this);\n    this.updateDistance = this.updateDistance.bind(this);\n    this.updateAngle = this.updateAngle.bind(this);\n    this.updateBranchType = this.updateBranchType.bind(this);\n    this.updatePen = this.updatePen.bind(this);\n    const distance = (props.data.hasOwnProperty('distance')) ? props.data.distance : 0;\n    const angle = (props.data.hasOwnProperty('angle')) ? props.data.angle : 0;\n    const branch = (props.data.hasOwnProperty('branch')) ? props.data.branch : 0;\n    const pen = (props.data.hasOwnProperty('pen')) ? props.data.pen : 0;\n    this.state = {\n      distance,\n      angle,\n      branch,\n      pen,\n    }\n  }\n\n  toggleProperty(propName, e) {\n    const { data, update } = this.props;\n    // eslint-disable-next-line\n    const { [propName]:prop, ...rest } = data;\n    var propChecked = e.target.checked;\n    if (propChecked) {\n      update({ ...rest, [propName]: this.state[propName]});\n    } else {\n      update({ ...rest });\n    }\n  }\n\n  updateRule(e) {\n    const { data, update } = this.props;\n    update({ ...data, rule: e.target.value });\n  }\n\n  updateDistance(value) {\n    const { data, update } = this.props;\n    this.setState({ distance: value });\n    update({ ...data, distance: value })\n  }\n\n  updateAngle(value) {\n    const { data, update } = this.props;\n    this.setState({ angle: value });\n    update({ ...data, angle: value })\n  }\n\n  updateBranchType(e) {\n    const { data, update } = this.props;\n    this.setState({ branch: Number(e.target.id) });\n    update({ ...data, branch: Number(e.target.id) });\n  }\n\n  updatePen(e) {\n    const { data, update } = this.props;\n    this.setState({ pen: Number(e.target.id) });\n    update({ ...data, pen: Number(e.target.id) });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.data !== this.props.data;\n  }\n\n  render() {\n    const instruction = this.props.data;\n    const distanceEnabled = instruction.hasOwnProperty('distance');\n    const angleEnabled = instruction.hasOwnProperty('angle');\n    const branchEnabled = instruction.hasOwnProperty('branch');\n    const penEnabled = instruction.hasOwnProperty('pen');\n    return (\n      <div className=\"flex-column instruction-container\">\n        <div className=\"flex-row instruction-box\">\n          <div className=\"flex-column check-container\">\n            <input\n              className=\"rule-input\"\n              value={instruction.rule}\n              onChange={this.updateRule}\n            />\n            <Distance\n              enabled={distanceEnabled}\n              id={this.props.id}\n              value={this.state.distance}\n              model={instruction}\n              update={this.updateDistance}\n              toggle={this.toggleDistance}\n            />\n            <Angle\n              enabled={angleEnabled}\n              id={this.props.id}\n              value={this.state.angle}\n              model={instruction}\n              update={this.updateAngle}\n              toggle={this.toggleAngle}\n            />\n            <Branch\n              enabled={branchEnabled}\n              id={this.props.id}\n              value={this.state.branch}\n              update={this.updateBranchType}\n              toggle={this.toggleBranch}\n            />\n            <Pen\n              enabled={penEnabled}\n              id={this.props.id}\n              value={this.state.pen}\n              update={this.updatePen}\n              toggle={this.togglePen}\n            />\n          </div>\n          <button\n            className=\"round-button remove-button\"\n            onClick={this.props.remove}\n          > X </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Instructions;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Instructions from './Instructions';\n\nclass InstructionsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.addInstruction = this.addInstruction.bind(this);\n  }\n\n  addInstruction() {\n    const newData = this.props.data.concat({rule: ''});\n    this.props.update(newData);\n  }\n\n  removeInstruction(id) {\n    const newData = this.props.data.concat();\n    newData.splice(this.props.id, 1);\n    this.props.update(newData);\n  }\n\n  updateInstruction(index, value) {\n    const newData = this.props.data.concat();\n    newData.splice(index, 1, value);\n    this.props.update(newData);\n  }\n\n  renderInstruction() {\n    const data = this.props.data;\n    return data.map((instruction, id) => {\n      const instructionProps = {\n        id,\n        data: instruction,\n        key: id,\n        remove: this.removeInstruction.bind(this, id),\n        update: this.updateInstruction.bind(this, id),\n      };\n      return <Instructions {...instructionProps} />;\n    }, this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.data !== this.props.data;\n  }\n\n  render() {\n    return (\n      <div className=\"side-section\">\n        <div className=\"flex-row centered-items\">\n          <h4>Instructions</h4>\n          <button\n            className=\"round-button add-button\"\n            onClick={this.addInstruction}\n          >+</button>\n        </div>\n        <div id=\"instructions-container\">{this.renderInstruction()}</div>\n      </div>\n    );\n  }\n}\n\nInstructionsContainer.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.object\n  ),\n  update: PropTypes.func.isRequired,\n};\n\nexport default InstructionsContainer;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Rule extends Component {\n  constructor(props) {\n    super(props);\n    this.updateRule = this.updateRule.bind(this);\n    this.updateTransform = this.updateTransform.bind(this);\n  }\n\n  updateRule(e) {\n    this.props.update({ ...this.props.rule, rule: e.target.value[0] });\n  }\n\n  updateTransform(e) {\n    this.props.update({ ...this.props.rule, transform: e.target.value });\n  }\n\n  render() {\n    const { rule, transform } = this.props.rule;\n    return (\n      <div className=\"rule-container\">\n          <input\n            className=\"rule-input\"\n            value={rule}\n            onChange={this.updateRule}\n          />\n          <label\n            className=\"transform-label\"\n          >-&gt;</label>\n          <input\n            className=\"transform-input\"\n            value={transform}\n            onChange={this.updateTransform}\n          />\n        <button\n          className=\"round-button remove-button\"\n          onClick={this.props.remove}\n        > X </button>\n      </div>\n    );\n  }\n}\n\nRule.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      rule: PropTypes.string,\n      transform: PropTypes.string,\n    })\n  ),\n  id: PropTypes.number.isRequired,\n  rule: PropTypes.shape({\n    rule: PropTypes.string,\n    transform: PropTypes.string,\n  }),\n  update: PropTypes.func.isRequired,\n  remove: PropTypes.func.isRequired,\n};\n\nexport default Rule;","import React, { Component } from 'react';\nimport Rule from './Rule';\n\nclass RulesContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.addRule = this.addRule.bind(this);\n    this.handleChangeRule = this.handleChangeRule.bind(this);\n  }\n\n  addRule() {\n    const newData = this.props.data.concat({ rule: '', transform: '' });\n    this.props.update(newData);\n  }\n\n  removeRule(id) {\n    const newData = this.props.data.concat();\n    newData.splice(id, 1);\n    this.props.update(newData);\n  }\n\n  rules() {\n    const data = this.props.data;\n    return data.map((rule, id) => {\n      const ruleProps = {\n        data,\n        id,\n        rule,\n        key: id,\n        remove: this.removeRule.bind(this, id),\n        update: this.handleChangeRule.bind(this, id),\n      };\n      return <Rule {...ruleProps} />;\n    }, this);\n  }\n\n  handleChangeRule(index, value) {\n    const newData = this.props.data.concat();\n    newData.splice(index, 1, value);\n    this.props.update(newData);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.data !== this.props.data;\n  }\n\n  render() {\n    return (\n      <div className=\"side-section\">\n        <div className=\"flex-row\">\n          <h4>Rules</h4>\n          <button\n            className=\"round-button add-button\"\n            onClick={this.addRule}\n          >+</button>\n        </div>\n        <div id=\"rules-container\">{this.rules()}</div>\n      </div>\n    );\n  }\n}\n\nexport default RulesContainer;","class Canvas {\n  constructor(canvas, data, callback) {\n    this.mousedown = false;\n    this.callback = callback;\n    this.data = data;\n    this.setData = this.setData.bind(this);\n    this.updateData = this.updateData.bind(this);\n    canvas.addEventListener('mousedown', (e) => {\n      this.mousedown = true;\n      this.startx = e.clientX;\n      this.starty = e.clientY;\n      this.datax = this.data.x;\n      this.datay = this.data.y;\n    });\n    canvas.addEventListener('mouseup', () => {\n      this.mousedown = false;\n    });\n    canvas.addEventListener('mousemove', (e) => {\n      if (this.mousedown) {\n        this.x = this.datax - (this.startx - e.clientX);\n        this.y = this.datay - (this.starty - e.clientY);\n        window.requestAnimationFrame(this.updateData);\n      }\n    });\n  }\n\n  setData(data) {\n    this.data = data;\n  }\n\n  updateData() {\n    this.callback({ ...this.data, x: this.x, y: this.y });\n  }\n}\n\nexport default Canvas;","const axiom = {\n  decode(axiomString) {\n    return window.unescape(axiomString);\n  },\n  encode(axiomObj) {\n    return window.escape(axiomObj);\n  },\n};\n\nexport default axiom;\n","import { map, invert } from 'lodash';\n\nfunction getParamEncoder(keyLookup) {\n  const encodedKeyLookup = invert(keyLookup);\n\n  return {\n    decode(result, encodedParam) {\n      const encodedKey = encodedParam[0];\n      const key = keyLookup[encodedKey];\n      const value = encodedParam.slice(1);\n      const numberValue = parseFloat(value);\n      result[key] = (value == numberValue) ? numberValue : value; // eslint-disable-line eqeqeq\n      return result;\n    },\n    encode(value, key) {\n      const encodedKey = encodedKeyLookup[key];\n      return encodedKey + value;\n    },\n  };\n}\n\nfunction getObjectEncoder(keyLookup, delimiter) {\n  const paramEncoder = getParamEncoder(keyLookup);\n\n  return {\n    decode(encodedObject) {\n      const decodedParams = encodedObject.split(delimiter);\n      return decodedParams.reduce(paramEncoder.decode, {});\n    },\n    encode(decodedObject) {\n      const encodedParams = map(decodedObject, paramEncoder.encode);\n      return encodedParams.join(delimiter);\n    },\n  };\n}\n\nexport { getObjectEncoder, getParamEncoder };","import { getObjectEncoder } from './util';\n\nconst keyLookup = {\n  x: 'x',\n  y: 'y',\n  a: 'angle',\n  z: 'zoom',\n  i: 'iterations',\n};\n\nconst objectEncoder = getObjectEncoder(keyLookup, ',');\n\nconst start = {\n  decode: objectEncoder.decode,\n  encode: objectEncoder.encode,\n};\n\nexport default start;\n","const rules = {\n  decode(rulesString) {\n    return rulesString.split(',').map((ruleString) => {\n      const splitRule = ruleString.split(':');\n      return { rule: window.unescape(splitRule[0]), transform: window.unescape(splitRule[1]) };\n    });\n  },\n  encode(rulesObj) {\n    const ruleStrings = rulesObj.map((ruleObj) => {\n      const ruleExists = (ruleObj.rule !== undefined) && (ruleObj.rule.length > 0);\n      return (ruleExists) ? `${window.escape(ruleObj.rule[0])}:${window.escape(ruleObj.transform)}` : '';\n    });\n    return ruleStrings.join(',');\n  },\n};\n\nexport default rules;\n","import { map, omit } from 'lodash';\nimport { getParamEncoder } from './util.js';\n\nconst keyLookup = {\n  d: 'distance',\n  a: 'angle',\n  b: 'branch',\n  p: 'pen',\n};\n\nconst paramEncoder = getParamEncoder(keyLookup);\n\nfunction decodeInstruction(paramString) {\n  const params = paramString.split(',');\n  const decodedRule = window.unescape(params.shift());\n  return params.reduce(paramEncoder.decode, { rule: decodedRule });\n}\n\nfunction decode(instructionString) {\n  const instructionList = instructionString.split(';');\n  return instructionList.map(decodeInstruction);\n}\n\nfunction encodeInstruction(instruction) {\n  const encodedRule = window.escape(instruction.rule);\n  const instructionParams = omit(instruction, 'rule');\n  const encodedInstruction = map(instructionParams, paramEncoder.encode);\n  encodedInstruction.unshift(encodedRule);\n  return encodedInstruction.join(',');\n}\n\nfunction encode(instructions) {\n  const encodedInstructions = instructions.map(encodeInstruction);\n  return encodedInstructions.join(';');\n}\n\nexport default { decode, decodeInstruction, encode, encodeInstruction };","import axiom from './axiom';\nimport start from './start';\nimport rules from './rules';\nimport instructions from './instructions';\nimport iterations from './iterations';\n\nconst hashSections = [\n  {\n    name: 'axiom',\n    encoder: axiom,\n  },\n  {\n    name: 'rules',\n    encoder: rules,\n  },\n  {\n    name: 'instructions',\n    encoder: instructions,\n  },\n  {\n    name: 'iterations',\n    encoder: iterations,\n  },\n  {\n    name: 'start',\n    encoder: start,\n  },\n];\n\nfunction decodeWith(hash, sections) {\n  const data = {};\n  const encodedSections = hash.split('/');\n\n  sections.forEach((section, index) => {\n    const encodedSection = encodedSections[index];\n    data[section.name] = section.encoder.decode(encodedSection);\n  });\n  return data;\n}\n\nfunction decode(hash) {\n  return decodeWith(hash, hashSections);\n}\n\nfunction encodeWith(data, sections) {\n  const encodedData = sections.map((section) => {\n    return section.encoder.encode(data[section.name]);\n  });\n  return '#' + encodedData.join('/');\n}\n\nfunction encode(data) {\n  return encodeWith(data, hashSections);\n}\n\nexport { decode, decodeWith, encode, encodeWith };\n","const iterations = {\n  decode(iterationsString) {\n    return parseInt(iterationsString, 10);\n  },\n  encode(iterationsObj) {\n    return (iterationsObj).toString(10);\n  },\n};\n\nexport default iterations;\n","// converts array of rule objects to rules hash for fast lookup\nfunction getRuleLookup(rules) {\n  return rules.reduce((lookup, rule) => {\n    lookup[rule.rule] = rule.transform;\n    return lookup;\n  }, {});\n}\n\n// iterates through input once\nfunction single(ruleLookup, input) {\n  let output = '';\n  for (let i = 0, len = input.length; i < len; i++) {\n    const char = input[i];\n    const result = (ruleLookup[char] !== undefined) ? ruleLookup[char] : char;\n    output += result;\n  }\n  return output;\n}\n\n// iterates through input several times and outputs array of each iteration\nfunction multiple(ruleLookup, input, maxIterations) {\n  let output = input;\n  for (let i = 0; i < maxIterations; i++) {\n    output = single(ruleLookup, output);\n  }\n  return output;\n}\n\n// wrapper for multiple that converts rules to rulesLookup\nfunction write(rules, input, maxIterations) {\n  const ruleLookup = getRuleLookup(rules);\n  return multiple(ruleLookup, input, maxIterations);\n}\n\nexport { getRuleLookup, single, multiple, write };\n","const RADIANS = Math.PI / 180;\n\nfunction render(canvas, start, rules, instructions) {\n  const ctx = canvas.getContext('2d');\n  ctx.strokeStyle = 'black';\n  ctx.lineWidth = 1;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  const zoom = start.zoom / 100;\n  let x = start.x;\n  let y = start.y;\n  let angle = start.angle;\n  let stack = [];\n  let forward = 5;\n  ctx.moveTo(x, y);\n  ctx.beginPath();\n  const instructionLookup = instructions.reduce((lookupObj, instruction) => {\n    lookupObj[instruction.rule] = instruction;\n    return lookupObj;\n  }, {});\n  for (let i = 0, len = rules.length; i < len; i++) {\n    const rule = rules[i];\n    if (instructionLookup.hasOwnProperty(rule)) {\n      const instruction = instructionLookup[rule];\n      const isPenDown = (instruction.hasOwnProperty('pen') && instruction.pen === 0) ? false : true;\n      if (instruction.hasOwnProperty('angle')) {\n        angle += instruction.angle;\n      }\n      if (instruction.hasOwnProperty('distance')) {\n        forward = instruction.distance * zoom;\n        x += Math.cos(angle * RADIANS) * forward;\n        y += Math.sin(angle * RADIANS) * forward;\n        if (isPenDown) {\n          ctx.lineTo(x, y);\n        } else {\n          ctx.moveTo(x, y);\n        }\n      }\n      if (instruction.hasOwnProperty('branch')) {\n        if (instruction.branch === 0) {\n          stack.push({ angle, x, y });\n        } else if (instruction.branch === 1) {\n          if (stack.length > 0) {\n            const settings = stack.pop();\n            angle = settings.angle;\n            x = settings.x;\n            y = settings.y;\n            ctx.moveTo(x, y);\n          }\n        }\n      }\n    }\n  }\n  ctx.stroke();\n  ctx.closePath();\n}\n\nexport default render;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Examples from './ui/Examples';\nimport Start from './ui/Start';\nimport Iterations from './ui/Iterations';\nimport Axiom from './ui/Axiom';\nimport InstructionsContainer from './ui/InstructionsContainer';\nimport RulesContainer from './ui/RulesContainer';\nimport CanvasUI from './ui/Canvas';\nimport * as encodeHash from './encoders/hash';\nimport * as rewrite from './rewrite';\nimport render from './render';\n\nclass App extends Component {\n  static updateStep = {\n    DECODE: 0,\n    REWRITE: 1,\n    RENDER: 2,\n  }\n\n  constructor(props) {\n    super(props);\n    const canvas = document.getElementById('canvas');\n    const data = this.decodeData();\n    this.state = { canvas,\n      start: data.start,\n      iterations: data.iterations,\n      axiom: data.axiom,\n      rules: data.rules,\n      rewrittenRules: '',\n      instructions: data.instructions,\n    };\n    this.canvasUI = new CanvasUI(canvas, data.start, this.updateStartData.bind(this));\n    this.update = this.update.bind(this);\n    this.updateStart = this.update.bind(this, App.updateStep.RENDER, 'start');\n    this.updateIterationData = this.updateIterationData.bind(this);\n    this.updateAxiom = this.update.bind(this, App.updateStep.REWRITE, 'axiom');\n    this.updateRules = this.update.bind(this, App.updateStep.REWRITE, 'rules');\n    this.updateInstructions = this.update.bind(this, App.updateStep.RENDER, 'instructions');\n    this.updateExample = this.update.bind(this, App.updateStep.DECODE);\n    this.decodeData = this.decodeData.bind(this);\n    this.rewriteData = this.rewriteData.bind(this);\n    this.renderData = this.renderData.bind(this);\n    this.updateMethods = [this.decodeData, this.rewriteData, this.renderData];\n  }\n\n  componentDidMount() {\n    this.update(App.updateStep.DECODE);\n  }\n\n  decodeData() {\n    let hash = window.location.hash.substr(1);\n    // hardcoded default for now if nothing is set\n    if (hash === '') {\n      hash = 'F/F:F+F-F-F+F/F,d3.5;+,a75;-,a-80/6/x347,y358,a70,i6,z100';\n    }\n    return encodeHash.decode(hash);\n  }\n\n  rewriteData(data) {\n    data.rewrittenRules = rewrite.write(data.rules, data.axiom, data.iterations);\n    return data;\n  }\n\n  renderData(data) {\n    render(this.state.canvas, data.start, data.rewrittenRules, data.instructions);\n    const urlHash = encodeHash.encode(data);\n    const stateObj = { data: urlHash };\n    window.history.replaceState(stateObj, 'L-Systems', `index.html${urlHash}`);\n    return data;\n  }\n\n  updateStartData(data) {\n    const updatedStartData = this.state;\n    updatedStartData.start = data;\n    this.renderData(updatedStartData);\n    this.setState({ start: data });\n  }\n\n  updateIterationData(iterations) {\n    const data = this.rewriteData({ ...this.state, iterations });\n    this.setState(this.renderData(data));\n  }\n\n  update(step, propName, propValue) {\n    let currentStep = step;\n    let newState = this.state;\n    if (propName) {\n      newState[propName] = propValue;\n    }\n    while (currentStep < this.updateMethods.length) {\n      newState = this.updateMethods[currentStep](newState);\n      currentStep++;\n    }\n    this.canvasUI.setData(newState.start);\n    if (propName) {\n      this.setState({ [propName]: propValue });\n    } else {\n      this.setState(newState);\n    }\n  }\n\n  render() {\n    const startProps = { data: this.state.start, update: this.updateStart };\n    const iterationsProps = { data: this.state.iterations, update: this.updateIterationData };\n    const axiomProps = { data: this.state.axiom, update: this.updateAxiom };\n    const rulesProps = { data: this.state.rules, update: this.updateRules };\n    const instructionsProps = { data: this.state.instructions, update: this.updateInstructions };\n    const exampleProps = { update: this.updateExample };\n    return (\n      <div>\n        <div id=\"side-bar\">\n          <h2>L-System Explorer</h2>\n          <Start { ...startProps } />\n          <Iterations { ...iterationsProps } />\n          <Axiom { ...axiomProps } />\n          <RulesContainer { ...rulesProps } />\n          <InstructionsContainer { ...instructionsProps } />\n          <Examples { ...exampleProps } />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}